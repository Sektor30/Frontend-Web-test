{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alex/Downloads/GITHUB/testFront/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alex/Downloads/GITHUB/testFront/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/alex/Downloads/GITHUB/testFront/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useProducts}from'../../../context/providers/ProductsContext';import{useAuth}from'../../../context/providers/AuthContext';import{toast}from'react-hot-toast';import{useCart}from'../../../context/providers/CartContext';import Modal from'react-modal';import{FaTimes}from\"react-icons/fa\";import'./Modal.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductCard(_ref){var product=_ref.product;var _useProducts=useProducts(),deleteProduct=_useProducts.deleteProduct;var _useAuth=useAuth(),user=_useAuth.user,isLoggedIn=_useAuth.isLoggedIn;var _useCart=useCart(),appendItemToCart=_useCart.appendItemToCart;var history=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var handleCart=function handleCart(product){appendItemToCart(product);toast.success('Producto a침adido al carrito',{position:\"bottom-right\"});};var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var deletedProduct;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return deleteProduct(id);case 2:deletedProduct=_context.sent;if(deletedProduct){toast.success('Producto eliminado',{position:\"bottom-right\"});}case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleDelete(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"menuItem\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.images&&product.images.url?product.images.url:\"/noImage.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsx(\"p\",{children:product.price}),isLoggedIn?user.role===\"admin\"?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return handleDelete(product._id);},children:\"Eliminar\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return setOpen(true);},children:\"Mas Informaci\\xF3n\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return handleCart(product);},children:\"Ordenar\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return setOpen(true);},children:\"Mas Informaci\\xF3n\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return history(\"/auth/signin\");},children:\"Ordenar\"})]})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:open,className:\"meal-details\",onRequestClose:function onRequestClose(){return setOpen(false);},children:[/*#__PURE__*/_jsx(\"button\",{className:\"close\",onClick:function onClick(){return setOpen(false);},children:/*#__PURE__*/_jsx(FaTimes,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"meal-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"recipe-title\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-instructions\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"recipe-ingredient\",children:\"Ingredientes: \"}),/*#__PURE__*/_jsx(\"p\",{children:\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet eveniet repellendus fuga vitae. In, labore vel natus neque quibusdam consequuntur maiores nulla officia inventore quidem id modi maxime voluptates obcaecati excepturi nam voluptatem nostrum velit error voluptas earum quia laborum eius? Voluptatem nemo repellat consequuntur? Ducimus cum suscipit repellendus sequi.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"recipe-img\",children:/*#__PURE__*/_jsx(\"img\",{src:product.images&&product.images.url?product.images.url:\"/noImage.png\",alt:\"\"})})]})]})]});}export default ProductCard;","map":{"version":3,"sources":["/Users/alex/Downloads/GITHUB/testFront/frontend/src/components/ui/Product/ProductCard.js"],"names":["React","useState","useProducts","useAuth","toast","useCart","Modal","FaTimes","useNavigate","ProductCard","product","deleteProduct","user","isLoggedIn","appendItemToCart","history","open","setOpen","handleCart","success","position","handleDelete","id","deletedProduct","images","url","name","price","role","_id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useProducts } from '../../../context/providers/ProductsContext'\nimport { useAuth } from '../../../context/providers/AuthContext'\nimport { toast } from 'react-hot-toast'\nimport { useCart } from '../../../context/providers/CartContext'\nimport Modal from 'react-modal'\nimport { FaTimes } from \"react-icons/fa\";\nimport './Modal.css'\nimport {useNavigate} from 'react-router-dom'\n\nfunction ProductCard({product}) {\n\n    const { deleteProduct } = useProducts();\n    const {user, isLoggedIn} = useAuth();\n    const { appendItemToCart } = useCart();\n    const history = useNavigate();\n\n    const [open, setOpen] = useState(false);\n\n    const handleCart = (product) => {\n        appendItemToCart(product);\n        toast.success('Producto a침adido al carrito', {\n            position: \"bottom-right\"\n        });\n    }\n\n    const handleDelete = async (id) => {\n        const deletedProduct = await deleteProduct(id);\n        if(deletedProduct){\n            toast.success('Producto eliminado', {\n                position: \"bottom-right\"\n            });\n        }\n    }\n\n    return (\n        <>\n            <div className=\"menuItem\">\n                <img src={product.images && product.images.url ? product.images.url : \"/noImage.png\" } alt=\"\" />\n                <h3>{product.name}</h3>\n                <p>{product.price}</p>\n\n                {\n                    isLoggedIn ? (\n                        user.role === \"admin\" ? (\n                            <>\n                                <button className=\"btn\" onClick={() => handleDelete(product._id)} >\n                                    Eliminar\n                                </button>\n                            </>\n                        ) : (\n                            <>\n                                <button className=\"btn\" onClick={() => setOpen(true)} >Mas Informaci칩n</button>\n                                <button className=\"btn\" onClick={() => handleCart(product)} >Ordenar</button>\n                            </>\n                        )\n                    ) : (\n                        <>\n                            <button className=\"btn\" onClick={() => setOpen(true)} >Mas Informaci칩n</button>\n                            <button className=\"btn\" onClick={() => history(\"/auth/signin\")} >Ordenar</button>\n                        </>\n                    )\n                }\n\n            </div>\n            <Modal isOpen={open} className=\"meal-details\" onRequestClose={() => setOpen(false)}>\n                <button className=\"close\" onClick={() => setOpen(false)} ><FaTimes /></button>\n                <div className=\"meal-content\">\n                    <h2 className=\"recipe-title\">\n                        {product.name}\n                    </h2>\n                    <div className=\"recipe-instructions\">\n                        <h3 className=\"recipe-ingredient\">Ingredientes: </h3>\n                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet eveniet repellendus fuga vitae. In, labore vel natus neque quibusdam consequuntur maiores nulla officia inventore quidem id modi maxime voluptates obcaecati excepturi nam voluptatem nostrum velit error voluptas earum quia laborum eius? Voluptatem nemo repellat consequuntur? Ducimus cum suscipit repellendus sequi.</p>\n                    </div>\n                    <div className=\"recipe-img\">\n                        <img src={product.images && product.images.url ? product.images.url : \"/noImage.png\" } alt=\"\" />\n                    </div>\n                </div>\n            </Modal>\n        </>\n    )\n}\n\nexport default ProductCard\n\n"]},"metadata":{},"sourceType":"module"}