{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alex/Downloads/GITHUB/testFront/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alex/Downloads/GITHUB/testFront/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/alex/Downloads/GITHUB/testFront/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/alex/Downloads/GITHUB/testFront/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/alex/Downloads/GITHUB/testFront/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useProducts}from'../../context/providers/ProductsContext';import{toast}from'react-hot-toast';import{useNavigate}from'react-router';import'./ProductForm.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductForm(){var history=useNavigate();var _useProducts=useProducts(),addNewProduct=_useProducts.addNewProduct,isLoading=_useProducts.isLoading;var _useState=useState({name:'',price:0,description:''}),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedImage=_useState4[0],setSelectedImage=_useState4[1];var handleChange=function handleChange(e){setProduct(_objectSpread(_objectSpread({},product),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var formData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();formData=new FormData();formData.append(\"name\",product.name);formData.append(\"price\",product.price);formData.append(\"description\",product.description);formData.append(\"image\",selectedImage);_context.next=8;return addNewProduct(formData);case 8:history(\"/menu\");toast.success('ðŸš€ Nuevo producto aÃ±adido!!',{position:'bottom-right'});case 10:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"cardsOne\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Agre\"}),\"gar un producto\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:!product.name||isLoading,children:isLoading?'Cargando...':'Guardar'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-wrappers\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Nombre del producto\",autoComplete:\"off\",autoFocus:true,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoComplete:\"off\",name:\"price\",placeholder:\"Precio del producto\",onChange:handleChange,value:product.price}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",rows:\"2\",placeholder:\"Descripci\\xF3n del producto\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",id:\"image\",onChange:function onChange(e){setSelectedImage(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(\"img\",{src:selectedImage?URL.createObjectURL(selectedImage):'/noImage.png',alt:product.name})]})]})});}export default ProductForm;","map":{"version":3,"sources":["/Users/alex/Downloads/GITHUB/testFront/frontend/src/pages/products/ProductForm.js"],"names":["React","useState","useProducts","toast","useNavigate","ProductForm","history","addNewProduct","isLoading","name","price","description","product","setProduct","selectedImage","setSelectedImage","handleChange","e","target","value","handleSubmit","preventDefault","formData","FormData","append","success","position","files","URL","createObjectURL"],"mappings":"woBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,yCAA5B,CACA,OAASC,KAAT,KAAsB,iBAAtB,CACA,OAASC,WAAT,KAA4B,cAA5B,CAEA,MAAO,mBAAP,C,wFAEA,QAASC,CAAAA,WAAT,EAAuB,CAEnB,GAAMC,CAAAA,OAAO,CAAGF,WAAW,EAA3B,CAEA,iBAAqCF,WAAW,EAAhD,CAAQK,aAAR,cAAQA,aAAR,CAAuBC,SAAvB,cAAuBA,SAAvB,CAEA,cAA8BP,QAAQ,CAAC,CACnCQ,IAAI,CAAE,EAD6B,CAEnCC,KAAK,CAAE,CAF4B,CAGnCC,WAAW,CAAE,EAHsB,CAAD,CAAtC,wCAAOC,OAAP,eAAgBC,UAAhB,eAMA,eAA0CZ,QAAQ,CAAC,IAAD,CAAlD,yCAAOa,aAAP,eAAsBC,gBAAtB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACtBJ,UAAU,gCAAMD,OAAN,wBAAgBK,CAAC,CAACC,MAAF,CAAST,IAAzB,CAAgCQ,CAAC,CAACC,MAAF,CAASC,KAAzC,GAAV,CACH,CAFD,CAIA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOH,CAAP,+HACjBA,CAAC,CAACI,cAAF,GAEMC,QAHW,CAGA,GAAIC,CAAAA,QAAJ,EAHA,CAKjBD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBZ,OAAO,CAACH,IAAhC,EACAa,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBZ,OAAO,CAACF,KAAjC,EACAY,QAAQ,CAACE,MAAT,CAAgB,aAAhB,CAA+BZ,OAAO,CAACD,WAAvC,EACAW,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBV,aAAzB,EARiB,sBAUXP,CAAAA,aAAa,CAACe,QAAD,CAVF,QAYjBhB,OAAO,CAAC,OAAD,CAAP,CACAH,KAAK,CAACsB,OAAN,CAAc,6BAAd,CAA6C,CACzCC,QAAQ,CAAC,cADgC,CAA7C,EAbiB,uDAAH,kBAAZN,CAAAA,YAAY,4CAAlB,CAmBA,mBACI,YAAK,SAAS,CAAC,UAAf,uBAEI,cAAM,QAAQ,CAAEA,YAAhB,wBAEI,aAAK,SAAS,CAAC,QAAf,wBACI,mCAAI,8BAAJ,qBADJ,cAEI,eAAQ,SAAS,CAAC,KAAlB,CAAwB,QAAQ,CAAE,CAACR,OAAO,CAACH,IAAT,EAAiBD,SAAnD,UACKA,SAAS,CAAG,aAAH,CAAmB,SADjC,EAFJ,GAFJ,cASI,aAAK,SAAS,CAAC,eAAf,wBACI,aAAK,SAAS,CAAC,MAAf,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,WAAW,CAAC,qBAA3C,CAAiE,YAAY,CAAC,KAA9E,CAAoF,SAAS,KAA7F,CAA8F,QAAQ,CAAEQ,YAAxG,EADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,YAAY,CAAC,KAAhC,CAAsC,IAAI,CAAC,OAA3C,CAAmD,WAAW,CAAC,qBAA/D,CAAqF,QAAQ,CAAEA,YAA/F,CAA6G,KAAK,CAAEJ,OAAO,CAACF,KAA5H,EAFJ,cAGI,iBAAU,IAAI,CAAC,aAAf,CAA6B,IAAI,CAAC,GAAlC,CAAsC,WAAW,CAAC,6BAAlD,CAA6E,QAAQ,CAAEM,YAAvF,EAHJ,cAII,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,EAAE,CAAC,OAAnC,CAA2C,QAAQ,CAC/C,kBAACC,CAAD,CAAO,CACHF,gBAAgB,CAACE,CAAC,CAACC,MAAF,CAASS,KAAT,CAAe,CAAf,CAAD,CAAhB,CACH,CAHL,EAJJ,GADJ,cAYI,YAAK,GAAG,CACJb,aAAa,CAAGc,GAAG,CAACC,eAAJ,CAAoBf,aAApB,CAAH,CAAwC,cADzD,CAEE,GAAG,CAAEF,OAAO,CAACH,IAFf,EAZJ,GATJ,GAFJ,EADJ,CAgCH,CAED,cAAeJ,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react'\nimport { useProducts } from '../../context/providers/ProductsContext'\nimport { toast } from 'react-hot-toast'\nimport { useNavigate } from 'react-router'\n\nimport './ProductForm.css'\n\nfunction ProductForm() {\n\n    const history = useNavigate();\n\n    const { addNewProduct, isLoading } = useProducts();\n\n    const [product, setProduct] = useState({\n        name: '',\n        price: 0,\n        description: ''\n    });\n\n    const [selectedImage, setSelectedImage] = useState(null);\n\n    const handleChange = e => {\n        setProduct({ ...product, [e.target.name]: e.target.value })\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        \n        const formData = new FormData();\n        \n        formData.append(\"name\", product.name);\n        formData.append(\"price\", product.price);\n        formData.append(\"description\", product.description);\n        formData.append(\"image\", selectedImage);\n        \n        await addNewProduct(formData);\n\n        history(\"/menu\");\n        toast.success('ðŸš€ Nuevo producto aÃ±adido!!', {\n            position:'bottom-right'\n        });\n    }\n\n\n    return (\n        <div className=\"cardsOne\">\n            \n            <form onSubmit={handleSubmit}>\n\n                <div className=\"header\">\n                    <h1><span>Agre</span>gar un producto</h1>\n                    <button className=\"btn\" disabled={!product.name || isLoading}>\n                        {isLoading ? 'Cargando...' : 'Guardar'}\n                    </button>\n                </div>\n\n                <div className=\"card-wrappers\">\n                    <div className=\"form\">\n                        <input type=\"text\" name=\"name\" placeholder=\"Nombre del producto\" autoComplete=\"off\" autoFocus onChange={handleChange} />\n                        <input type=\"text\" autoComplete=\"off\" name=\"price\" placeholder=\"Precio del producto\" onChange={handleChange} value={product.price} />\n                        <textarea name=\"description\" rows=\"2\" placeholder=\"DescripciÃ³n del producto\" onChange={handleChange} ></textarea>\n                        <input type=\"file\" name=\"image\" id=\"image\" onChange={\n                            (e) => {\n                                setSelectedImage(e.target.files[0]);\n                            }\n                        } />\n                    </div>\n                    \n                    <img src={\n                        selectedImage ? URL.createObjectURL(selectedImage) : '/noImage.png'\n                    } alt={product.name}  />\n                </div>\n\n            </form>\n        </div>\n    )\n}\n\nexport default ProductForm\n"]},"metadata":{},"sourceType":"module"}