{"ast":null,"code":"import _slicedToArray from\"/Users/alex/Downloads/GITHUB/testFront/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{FaTrash}from\"react-icons/fa\";import{useCart}from'../../context/providers/CartContext';import{useAuth}from'../../context/providers/AuthContext';import'./CartPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CartPage(){var _useCart=useCart(),items=_useCart.items,removeItem=_useCart.removeItem,totalPrice=_useCart.totalPrice,clearCart=_useCart.clearCart,appendItemToCart=_useCart.appendItemToCart,decrementItem=_useCart.decrementItem;var _useAuth=useAuth(),user=_useAuth.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(user.email),_useState4=_slicedToArray(_useState3,2),uEmail=_useState4[0],setuEmail=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),quantity=_useState6[0],setQuantity=_useState6[1];if(items.length===0){return/*#__PURE__*/_jsx(\"h1\",{className:\"empty\",children:\"Carrito vac\\xEDo\"});}var handleChange=function handleChange(e){setValue(e.target.value);setuEmail(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"shoopingCart\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Carr\"}),\"ito de compras\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return clearCart();},children:\"Limpiar carrito\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagar\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Total: \",totalPrice]}),/*#__PURE__*/_jsxs(\"form\",{action:\"https://formspree.io/f/mleayoej\",method:\"POST\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'none'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user_name\",value:uEmail,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"user_email\",value:uEmail,onChange:handleChange}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",value:value,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn\",value:\"PAGAR\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"items\",children:items.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{className:\"shoopingBox\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.images.url?product.images.url:'/noImage.png',alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"boxInfo\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsx(FaTrash,{className:\"icon\",onClick:function onClick(){return removeItem(product);}})]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Precio: \",product.price]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Cantidad: \",product.quantity]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Total: $\",product.price*product.quantity]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"boxValue\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return decrementItem(product,quantity);},children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:quantity?quantity:0,onChange:function onChange(e){return setQuantity(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(){return appendItemToCart(product,quantity);},children:\"+\"})]})]})]},product._id);})})})]});}export default CartPage;","map":{"version":3,"sources":["/Users/alex/Downloads/GITHUB/testFront/frontend/src/pages/cart/CartPage.js"],"names":["React","useState","FaTrash","useCart","useAuth","CartPage","items","removeItem","totalPrice","clearCart","appendItemToCart","decrementItem","user","value","setValue","email","uEmail","setuEmail","quantity","setQuantity","length","handleChange","e","target","display","map","product","images","url","name","price","_id"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport { FaTrash } from \"react-icons/fa\";\nimport { useCart } from '../../context/providers/CartContext'\nimport { useAuth } from '../../context/providers/AuthContext'\n\nimport './CartPage.css'\n\nfunction CartPage() {\n\n    const { items, removeItem, totalPrice, clearCart, appendItemToCart, decrementItem } = useCart();\n\n    const { user } = useAuth();\n    \n    const [value, setValue] = useState([]);\n    const [uEmail, setuEmail] = useState(user.email);\n\n\n    const [quantity, setQuantity] = useState(0);\n\n    if(items.length === 0) {\n        return (\n            <h1 className=\"empty\">Carrito vac√≠o</h1>\n        )\n    }\n\n    const handleChange = (e) => {\n        setValue(e.target.value)\n        setuEmail(e.target.value)\n    }\n\n    return (\n        <div className=\"shoopingCart\">\n            <div className=\"header\">\n                <div>\n                    <h1><span>Carr</span>ito de compras</h1>\n                    <button className=\"btn\" onClick={() => clearCart()}>Limpiar carrito</button>\n                </div>\n                <div className=\"pagar\">\n                    <h3>Total: {totalPrice}</h3>\n                    <form  action=\"https://formspree.io/f/mleayoej\" method=\"POST\" >\n                        <div style={{display: 'none' }}>\n                            <input type=\"text\" name=\"user_name\" value={uEmail} onChange={handleChange} />\n                            <input type=\"email\" name=\"user_email\" value={uEmail} onChange={handleChange} />\n                            <textarea name=\"message\" value={value} onChange={handleChange} />\n                        </div>\n                        <input type=\"submit\" className=\"btn\" value=\"PAGAR\" />\n                    </form>\n                </div>\n            </div>\n            <div className=\"container\">\n                <div className=\"items\">\n                    {\n                        items.map(product => (\n\n                            <div className=\"shoopingBox\" key={product._id}>\n                                <img src={product.images.url ? product.images.url : '/noImage.png'} alt=\"\" />\n                                <div>\n                                    <div className=\"boxInfo\">\n                                        <div className=\"title\">\n                                            <h3>{product.name}</h3>\n                                            <FaTrash className=\"icon\" onClick={() => removeItem(product)} />\n                                        </div>\n                                        <h2>Precio: {product.price}</h2>\n                                        <h2>Cantidad: {product.quantity}</h2>\n                                        <h2>Total: ${product.price * product.quantity}</h2>\n                                    </div>\n                                    <div className=\"boxValue\">\n                                        <button className=\"btn\" onClick={() => decrementItem(product, quantity)} >-</button>\n                                        <input type=\"number\" value={quantity ? quantity : 0} \n                                        onChange={e => setQuantity(e.target.value)}\n                                        />\n                                        <button className=\"btn\" onClick={() => appendItemToCart(product, quantity)}>+</button>\n                                    </div>\n\n                                </div>\n                            </div>\n                        ))\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default CartPage\n"]},"metadata":{},"sourceType":"module"}